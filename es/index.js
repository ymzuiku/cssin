"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var device=require("./device");exports.device=device;var strFn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1<e.length){var s=e[0],n=e.slice(1),i="";return s.forEach(function(e,t){i+=e,n[t]&&(i+=n[t])}),i}return"string"==typeof e[0]?e[0]:e[0]?e[0].join(""):""},sheets=new Map,coverCache=new Set;exports.addSheets=function(t){return Object.keys(t).forEach(function(e){sheets.set(e,t[e])}),sheets},exports.addSheets({undefined:"","@sm":function(e){return"@media (min-width: 640px) {"+e+"}"},"@md":function(e){return"@media (min-width: 768px) {"+e+"}"},"@lg":function(e){return"@media (min-width: 1024px) {"+e+"}"},"@xl":function(e){return"@media (min-width: 1280px) {"+e+"}"},"@ios":function(e){return"@media (min-width: "+(device.isIos()?"0px":"9999px")+") {"+e+"}"},"@android":function(e){return"@media (min-width: "+(device.isAndroid()?"0px":"9999px")+") {"+e+"}"},"@native":function(e){return"@media (min-width: "+(device.isNative()?"0px":"9999px")+") {"+e+"}"},"@pc":function(e){return"@media (min-width: "+(device.isPc()?"0px":"9999px")+") {"+e+"}"}});var appendCssCache=new Set,appendCss=function(e){if(!appendCssCache.has(e)){appendCssCache.add(e);var t=document.createElement("style");t.innerHTML=e,t.type="text/css",document.head.appendChild(t)}},cssinCache=new Map;exports.cssin=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var s=strFn.apply(void 0,e);if(cssinCache.has(s))return cssinCache.get(s);if(0<s.indexOf("{"))return appendCss(s),cssinCache.set(s,s),"";var n=s.split(";"),u="";return n.forEach(function(e){if(""!==(e=e.trim())){var t=e.split(":");if(1!==t.length){var s="c-"+e.replace(/[^-0-0a-zA-Z]/g,function(e){return"_"+e.charCodeAt(0).toString(16)+"_"}),n=t[t.length-4]||"",i=t[t.length-3]||"",r=t[t.length-2]||"";3===t.length&&"@"===i[0]&&(n=i,i="");var c=t[t.length-1]||"",a=!1;"!"===(c=c.trim())[c.length-1]&&(a=!0,c=c.substr(0,c.length-1)),0===c.indexOf("--")&&(c="var("+c+")"),a&&(c+=" !important");var o="",h="@"===n[0]?sheets.get(n):"",p=sheets.get(r);o="."+s+(i?":":"")+i+" "+("function"==typeof p?p(c):"{"+r+":"+c+";}"),"function"==typeof h&&(o=h(o)),appendCss(o),u+=s+" "}else{if("."===e[0])return void(u+=e.replace(".","")+" ");var d=sheets.get(e);"string"==typeof d&&(u+=exports.cssin(d)+" ")}}}),cssinCache.set(s,u),u},exports.coverAttribute=function(n){if(!coverCache.has(n)){coverCache.add(n);var e=function(e){var s=e.prototype.setAttribute;e.prototype.setAttribute=function(e,t){this.__cssin||(this.__cssin={}),e===n?(this.__cssin.useAutoCssin||(this.__cssin.useAutoCssin=!0),this.__cssin.tempClass?s.call(this,"class",exports.cssin(t)+" "+this.__cssin.tempClass):(s.call(this,"class",exports.cssin(t)),s.call(this,n,exports.cssin(t)))):"class"===e?(this.__cssin.useAutoCssin||s.call(this,"class",t),this.__cssin.tempClass=t):s.call(this,e,t)}};e(HTMLElement),e(SVGSVGElement)}};